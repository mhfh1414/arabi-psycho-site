# اختبارات نفسية

PSYCH_TESTS = [
    {
        "id": "depression",
        "name": "اختبار الاكتئاب",
        "questions": [
            "هل تشعر بالحزن معظم الوقت؟",
            "هل فقدت الاهتمام بالأنشطة التي كنت تستمتع بها؟",
            "هل تجد صعوبة في النوم أو فرط في النوم؟",
        ],
        "options": ["أبداً", "أحياناً", "غالباً", "دائماً"]
    },
    {
        "id": "anxiety",
        "name": "اختبار القلق",
        "questions": [
            "هل تشعر بالتوتر بشكل متكرر؟",
            "هل تعاني من صعوبة في الاسترخاء؟",
            "هل تشعر بخوف غير مبرر؟",
        ],
        "options": ["أبداً", "أحياناً", "غالباً", "دائماً"]
    }
]

def score_test(test_id, answers):
    """حساب نتيجة الاختبار النفسي"""
    test = next((t for t in PSYCH_TESTS if t["id"] == test_id), None)
    if not test:
        return {"error": "اختبار غير موجود"}
    
    score = sum(answers)
    return {"test": test["name"], "score": score}
