from flask import Flask, render_template, request, redirect, url_for

app = Flask(__name__)

# الصفحة الرئيسية
@app.route('/')
def index():
    return render_template('index.html')

# صفحة الاختبارات
@app.route('/tests')
def tests():
    return render_template('tests.html')

# صفحة DSM
@app.route('/dsm')
def dsm():
    return render_template('dsm.html')

# صفحة دراسة الحالة
@app.route('/case_study', methods=["GET", "POST"])
def case_study():
    if request.method == "POST":
        patient_name = request.form.get("patient_name")
        session_notes = request.form.get("session_notes")
        recommendations = request.form.get("recommendations")

        # هنا تقدر تحفظ البيانات في قاعدة بيانات أو ملف
        print("حفظ دراسة حالة:")
        print("اسم العميل:", patient_name)
        print("ملاحظات:", session_notes)
        print("توصيات:", recommendations)

        return redirect(url_for('index'))

    return render_template("case_study.html")

# صفحة الأخطاء 404
@app.errorhandler(404)
def page_not_found(e):
    return render_template("404.html"), 404

# صفحة الأخطاء 500
@app.errorhandler(500)
def internal_error(e):
    return render_template("500.html"), 500

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5000, debug=True)
